<!DOCTYPE html>
<html lang="bg">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∏ –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–∏—è</title>
        <meta name="description" content="–ù–∞—É—á–µ—Ç–µ –∑–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ç–µ –∑–∞–±–ª—É–¥–∏ –∏ –∫–∞–∫ –¥–∞ –≥–∏ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞—Ç–µ.">
        <meta name="keywords" content="–∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∏ –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–∏—è, –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∏ –∑–∞–±–ª—É–¥–∏, –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∏ —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç–∏, –∫—Ä–∏—Ç–∏—á–Ω–æ –º–∏—Å–ª–µ–Ω–µ, –∞—Ä–≥—É–º–µ–Ω—Ç–∏, –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è, —Ä–∞—Ü–∏–æ–Ω–∞–ª–Ω–æ –º–∏—Å–ª–µ–Ω–µ">
        <meta name="author" content="–ò–≤–∞–Ω –ú–∏—Ç–µ–≤">
        <link rel="icon" type="image/png" href="favicon-32x32.png">
        <link rel="stylesheet" href="styles.css">
        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://pristrastia.logi4no.com/">
        <meta property="og:title" content="–õ–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–±–ª—É–¥–∏">
        <meta property="og:description" content="–ù–∞—É—á–µ—Ç–µ –∑–∞ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∏—Ç–µ –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–∏—è –∏ –∫–∞–∫ –¥–∞ –≥–∏ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞—Ç–µ.">
        <meta property="og:image" content="https://pristrastia.logi4no.com/clover-brain-facebook.jpg">
        <!-- Twitter -->
        <meta property="twitter:url" content="https://pristrastia.logi4no.com/">
        <meta property="twitter:title" content="–õ–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–±–ª—É–¥–∏">
        <meta property="twitter:description" content="–ù–∞—É—á–µ—Ç–µ –∑–∞ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∏—Ç–µ –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–∏—è –∏ –∫–∞–∫ –¥–∞ –≥–∏ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞—Ç–µ.">
        <meta property="twitter:image" content="https://pristrastia.logi4no.com/clover-brain-twitter.jpg"">
    </head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4NST4HZG30"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-4NST4HZG30');
    </script>
<body>
    <header>
        <div class="container">
            <h1>–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∏ –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–∏—è</h1>
            <p>–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ—Ç–æ –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–∏–µ/–∏–∑–∫—Ä–∏–≤—è–≤–∞–Ω–µ –µ "–≥—Ä–µ—à–∫–∞ –≤ –º–∏—Å–ª–µ–Ω–µ—Ç–æ", –∫–æ–≥–∞—Ç–æ –º–æ–∑—ä–∫—ä—Ç –Ω–∏ –ø–æ–Ω—è–∫–æ–≥–∞ –ø—Ä–∞–≤–∏ –±—ä—Ä–∑–∏, –Ω–æ –Ω–µ—Ç–æ—á–Ω–∏ –ø—Ä–µ—Ü–µ–Ω–∫–∏.
                <br>–ó–∞–ø–æ–∑–Ω–∞–π —Å–µ —Å 24 –æ—Ç —Ç—è—Ö, –ø–æ–ø—É–ª—è—Ä–∏–∑–∏—Ä–∞–Ω–∏ –≤ <a href="https://yourbias.is/">Your Biases</a>. –ó–∞ –ø–æ-–∏–∑—á–µ—Ä–ø–∞—Ç–µ–ª–µ–Ω —Å–ø–∏—Å—ä–∫, –≤–∏–∂ <a href=https://thedecisionlab.com/biases">Decisions Lab</a>.
            </p>
        </div>
    </header>

    <main>
        <section class="cards-container">
            <!-- Cards will be dynamically loaded here -->
        </section>
    </main>

    <footer>
        <div class="container">
            <p>–õ–æ–≥–∏–∫–∞—Ç–∞ –µ —Å—É–ø–µ—Ä—Å–∏–ª–∞ üí™ —Å—Ä–µ—â—É –≤—Å—è–∫–∞–∫–≤–∏ –∑–∞–±–ª—É–¥–∏ –∏–ª–∏ —Å–∞–º–æ–∑–∞–±–ª—É–¥–∏!
                <br>–ù–æ —Å –≥–æ–ª—è–º–∞—Ç–∞ —Å–∏–ª–∞ –∏–¥–≤–∞ –∏ –≥–æ–ª—è–º–∞—Ç–∞ –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç!
                <br>–ü—Ä–µ–¥–∏ –¥–∞ —É–±–µ–∂–¥–∞–≤–∞—à –¥—Ä—É–≥–∏—Ç–µ –≤ –ø—Ä–∞–≤–æ—Ç–∞—Ç–∞ —Å–∏, –ø—ä—Ä–≤–æ —Ö—É–±–∞–≤–æ —Å–∏ –ø–æ–º–∏—Å–ª–∏ –¥–∞–ª–∏ —Å–∏ –æ–±–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∞–≤, –∞ –Ω–µ —Å–∏ –ø–æ–¥–ª—ä–≥–∞–Ω –æ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–∏—Ç–µ —Å–∏ üß† –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∏ –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–∏—è!</p>
        </div>
        <div class="license">
            <p>
                –°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –≤ —Å–∞–π—Ç–∞ –µ –ø–æ–¥ <a href="https://creativecommons.org/licenses/by/4.0/deed.bg" target="_blank">–ª–∏—Ü–µ–Ω–∑ Creative Commons –ü—Ä–∏–∑–Ω–∞–Ω–∏–µ 4.0 –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–µ–Ω</a>.
            </p>
            <p>
                –ê–∫–æ –∏–º–∞—Ç–µ –≤—ä–ø—Ä–æ—Å–∏ –∏ –ø—Ä–µ–ø–æ—Ä—ä–∫–∏ –ø–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞, –º–æ–∂–µ—Ç–µ –¥–∞ –æ—Ç–≤–æ—Ä–∏—Ç–µ –¥–∏—Å–∫—É—Å–∏—è –≤ <a href="https://github.com/immitev/pristrastia/discussions" target="_blank">GitHub</a>.
            </p>
        </div>
    </footer>

    <script>
        function createValidId(cyrillicText) {
            const transliterationMap = {
                "–∞": "a", "–±": "b", "–≤": "v", "–≥": "g", "–¥": "d", "–µ": "e", "–∂": "zh", "–∑": "z", "–∏": "i",
                "–π": "y", "–∫": "k", "–ª": "l", "–º": "m", "–Ω": "n", "–æ": "o", "–ø": "p", "—Ä": "r", "—Å": "s",
                "—Ç": "t", "—É": "u", "—Ñ": "f", "—Ö": "h", "—Ü": "ts", "—á": "ch", "—à": "sh", "—â": "sht",
                "—ä": "a", "—ã": "y", "—å": "", "—é": "yu", "—è": "ya",
                "–ê": "A", "–ë": "B", "–í": "V", "–ì": "G", "–î": "D", "–ï": "E", "–ñ": "Zh", "–ó": "Z", "–ò": "I",
                "–ô": "Y", "–ö": "K", "–õ": "L", "–ú": "M", "–ù": "N", "–û": "O", "–ü": "P", "–†": "R", "–°": "S",
                "–¢": "T", "–£": "U", "–§": "F", "–•": "H", "–¶": "Ts", "–ß": "Ch", "–®": "Sh", "–©": "Sht",
                "–™": "A", "–´": "Y", "–¨": "", "–Æ": "Yu", "–Ø": "Ya"
            };

            // Replace each Cyrillic character with its corresponding Latin equivalent
            const latinText = cyrillicText.split('').map(char => transliterationMap[char] || char).join('');

            // Replace spaces with dashes, and ensure the result is lowercase
            const validId = latinText.replace(/\s+/g, '-').toLowerCase();

            return validId;
        }

        function scrollToAnchor() {
            const hash = window.location.hash; // Get the fragment (e.g., #dvusmislie)
            if (hash) {
                const target = document.querySelector(hash);
                if (target) {
                    // Scroll to the element
                    target.scrollIntoView({ behavior: 'smooth' });

                    // Add a highlight effect
                    target.classList.add('highlight-frame');
                    setTimeout(() => {
                        target.classList.remove('highlight-frame');
                    }, 3000);
                }
            }
        }


        async function loadCards() {
            const response = await fetch('data.json');
            const data = await response.json();
            const container = document.querySelector('.cards-container');

            data.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.classList.add('card');
                const cardId = createValidId(card.title);
                cardElement.setAttribute('id', cardId); 
                cardElement.innerHTML = `
                    <h2 style="display: flex; justify-content: space-between; align-items: center;">
                        ${card.title}
                        <button onclick="navigator.share({url: window.location.origin + window.location.pathname + '#' + '${cardId}', 
                                text: '${card.title}', 
                                title: '${card.title}'})" 
                            style="border: none; background: none; cursor: pointer; padding: 4px;" 
                            title="–°–ø–æ–¥–µ–ª–µ—Ç–µ –ª–∏–Ω–∫ –∫—ä–º –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–∏–µ—Ç–æ '${card.title}'">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="18" cy="5" r="3"/>
                                <circle cx="6" cy="12" r="3"/>
                                <circle cx="18" cy="19" r="3"/>
                                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                            </svg>
                        </button>
                    </h2>
                    <div class="english">
                        <a href="https://thedecisionlab.com/biases/${card.link}" class="wiki-link">${card.english}</a>
                    </div>
                    <p>${card.description}</p>
                    <div class="summary">
                        ${card.summary}
                    </div>
                    <div class="tip">
                        üíä ${card.tip}
                    </div>
                `;
                container.appendChild(cardElement);
            });

            // Scroll after the dynamic content has been created
            scrollToAnchor();
        }

        document.addEventListener('DOMContentLoaded', loadCards);

        // Handle navigation clicks dynamically as well
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

    </script>
</body>
</html>
